import{u as K}from"./useWebSocket-DkzwP_Tc.js";import{d as v,c as g,o as S,a as N,b as c,e as s,f as d,n as _,t as i,u as o,F as T,r as w,g as V,h as r,_ as q,i as D}from"./index-BWgzGCG0.js";const E={class:"kafka-messages"},I={class:"header"},L={class:"connection-status"},B={class:"controls"},F=["disabled"],H=["disabled"],O={class:"messages-container"},P={class:"messages-list"},U={class:"message-header"},W={key:0,class:"message-topic"},j={class:"message-time"},z={class:"message-content"},J={class:"content-text"},$={key:0,class:"metadata"},A={key:0,class:"empty-state"},G={key:0,class:"instructions"},Q=v({__name:"KafkaMessages",setup(b){const{messages:f,status:t,connect:l,disconnect:u,clearMessages:p}=K(),m=g(()=>f.value.filter(n=>n.type==="kafka-message")),C=g(()=>({"status-connected":t.isConnected,"status-connecting":t.isConnecting,"status-disconnected":!t.isConnected&&!t.isConnecting,"status-error":t.error})),k=g(()=>t.error?"Error":t.isConnected?"Connected":t.isConnecting?"Connecting...":"Disconnected");function h(n){const e={"message-kafka":n.type==="kafka-message"};return n.topic==="notifications"?{...e,"message-notification":!0}:{...e,"message-regular":!0}}function y(n){return new Date(n).toLocaleTimeString()}function M(n){if(typeof n.message=="string")return n.message;if(n.message&&typeof n.message=="object"){const e=n.message;return e.content&&typeof e.content=="string"?e.content:JSON.stringify(n.message,null,2)}return"Empty message"}return S(()=>{l()}),N(()=>{u()}),(n,e)=>(r(),c("div",E,[s("div",I,[e[3]||(e[3]=s("h2",null,"ðŸ“¡ Kafka Messages Stream",-1)),s("div",L,[s("span",{class:_([C.value,"status-indicator"])},i(k.value),3)])]),s("div",B,[s("button",{onClick:e[0]||(e[0]=(...a)=>o(l)&&o(l)(...a)),disabled:o(t).isConnected||o(t).isConnecting,class:"btn btn-primary"},i(o(t).isConnecting?"Connecting...":"Connect"),9,F),s("button",{onClick:e[1]||(e[1]=(...a)=>o(u)&&o(u)(...a)),disabled:!o(t).isConnected,class:"btn btn-secondary"}," Disconnect ",8,H),s("button",{onClick:e[2]||(e[2]=(...a)=>o(p)&&o(p)(...a)),class:"btn btn-warning"}," Clear Messages ")]),s("div",O,[s("h3",null,"Kafka Events ("+i(m.value.length)+")",1),s("div",P,[(r(!0),c(T,null,w(m.value,(a,x)=>(r(),c("div",{key:x,class:_([h(a),"message"])},[s("div",U,[a.topic?(r(),c("span",W," ðŸ“‚ "+i(a.topic),1)):d("",!0),s("span",j,i(y(a.timestamp)),1)]),s("div",z,[s("div",J,i(M(a)),1),a.partition!==void 0?(r(),c("div",$," Partition: "+i(a.partition)+" | Offset: "+i(a.offset),1)):d("",!0)])],2))),128)),m.value.length===0?(r(),c("div",A,i(o(t).isConnected?"No Kafka messages yet. Use the CLI producer to send some!":"Connect to start receiving Kafka messages"),1)):d("",!0)])]),o(t).isConnected?(r(),c("div",G,[...e[4]||(e[4]=[V('<h4 data-v-e7e313cb>ðŸ’¡ How to send messages:</h4><div class="instruction-item" data-v-e7e313cb><strong data-v-e7e313cb>1. Start CLI Producer:</strong><code data-v-e7e313cb>cd backend &amp;&amp; npm run producer</code></div><div class="instruction-item" data-v-e7e313cb><strong data-v-e7e313cb>2. Type messages:</strong> They will appear here in real-time! </div><div class="instruction-item" data-v-e7e313cb><strong data-v-e7e313cb>3. Commands:</strong><ul data-v-e7e313cb><li data-v-e7e313cb><code data-v-e7e313cb>Hello World</code> - sends to &quot;messages&quot; topic</li><li data-v-e7e313cb><code data-v-e7e313cb>/notify Important update</code> - sends to &quot;notifications&quot; topic</li></ul></div>',4)])])):d("",!0)]))}}),R=q(Q,[["__scopeId","data-v-e7e313cb"]]),Z=v({__name:"KafkaView",setup(b){return(f,t)=>(r(),c("main",null,[D(R)]))}});export{Z as default};
