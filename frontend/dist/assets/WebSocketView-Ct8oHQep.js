import{d as b,j as N,c as C,o as x,a as W,b as i,e as s,f as u,n as f,t as c,u as t,w as T,v as V,k as B,F as E,r as J,h as r,_ as O,i as A}from"./index-BWgzGCG0.js";import{u as F}from"./useWebSocket-DkzwP_Tc.js";const K={class:"websocket-demo"},L={class:"header"},U={class:"connection-status"},$={key:0,class:"error-message"},j={key:1,class:"reconnect-info"},z={class:"controls"},I=["disabled"],R=["disabled"],q={key:0,class:"message-input"},G={class:"input-group"},H=["disabled"],P={class:"messages-container"},Q={class:"messages-list"},X={class:"message-header"},Y={class:"message-type"},Z={class:"message-time"},ee={class:"message-content"},se={key:0,class:"empty-state"},te=b({__name:"WebSocketDemo",setup(v){const{messages:l,status:e,connect:m,disconnect:g,sendMessage:h,clearMessages:_}=F(),d=N(""),k=C(()=>({"status-connected":e.isConnected,"status-connecting":e.isConnecting,"status-disconnected":!e.isConnected&&!e.isConnecting,"status-error":e.error})),y=C(()=>e.error?"Error":e.isConnected?"Connected":e.isConnecting?"Connecting...":"Disconnected");function p(){d.value.trim()&&(h(d.value),d.value="")}function M(n){return{"message-welcome":n==="welcome","message-echo":n==="echo","message-broadcast":n==="broadcast","message-error":n==="error","message-user":n==="user"}}function S(n){return new Date(n).toLocaleTimeString()}function w(n){return n.type==="echo"&&n.originalMessage?`Echo: ${JSON.stringify(n.originalMessage,null,2)}`:n.message?typeof n.message=="string"?n.message:JSON.stringify(n.message,null,2):JSON.stringify(n,null,2)}return x(()=>{m()}),W(()=>{g()}),(n,a)=>(r(),i("div",K,[s("div",L,[a[4]||(a[4]=s("h2",null,"ðŸš€ WebSocket Connection Demo",-1)),s("div",U,[s("span",{class:f([k.value,"status-indicator"])},c(y.value),3),t(e).error?(r(),i("span",$,c(t(e).error),1)):u("",!0),t(e).reconnectAttempts>0?(r(),i("span",j," Reconnect attempts: "+c(t(e).reconnectAttempts),1)):u("",!0)])]),s("div",z,[s("button",{onClick:a[0]||(a[0]=(...o)=>t(m)&&t(m)(...o)),disabled:t(e).isConnected||t(e).isConnecting,class:"btn btn-primary"},c(t(e).isConnecting?"Connecting...":"Connect"),9,I),s("button",{onClick:a[1]||(a[1]=(...o)=>t(g)&&t(g)(...o)),disabled:!t(e).isConnected,class:"btn btn-secondary"}," Disconnect ",8,R),s("button",{onClick:a[2]||(a[2]=(...o)=>t(_)&&t(_)(...o)),class:"btn btn-warning"}," Clear Messages ")]),t(e).isConnected?(r(),i("div",q,[s("div",G,[T(s("input",{"onUpdate:modelValue":a[3]||(a[3]=o=>d.value=o),onKeyup:B(p,["enter"]),placeholder:"Type a message...",class:"message-field"},null,544),[[V,d.value]]),s("button",{onClick:p,disabled:!d.value.trim(),class:"btn btn-success"}," Send ",8,H)])])):u("",!0),s("div",P,[s("h3",null,"Messages ("+c(t(l).length)+")",1),s("div",Q,[(r(!0),i(E,null,J(t(l),(o,D)=>(r(),i("div",{key:D,class:f([M(o.type),"message"])},[s("div",X,[s("span",Y,c(o.type),1),s("span",Z,c(S(o.timestamp)),1)]),s("div",ee,[s("pre",null,c(w(o)),1)])],2))),128)),t(l).length===0?(r(),i("div",se,c(t(e).isConnected?"No messages yet. Send one!":"Connect to start receiving messages"),1)):u("",!0)])])]))}}),ne=O(te,[["__scopeId","data-v-cc3c46e5"]]),ce=b({__name:"WebSocketView",setup(v){return(l,e)=>(r(),i("main",null,[A(ne)]))}});export{ce as default};
